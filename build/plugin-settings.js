!function(){"use strict";var e,t={775:function(e,t,n){var a=window.wp.element;function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}var o=window.wp.components,l=window.wp.i18n,c=window.wp.date;const i=e=>(0,a.createElement)("tr",{style:{display:"table-row",borderSpacing:"0 1em"},className:e.name+"-item"},(0,a.createElement)("th",{scope:"row",style:{padding:"16px 8px 16px"}},e.title),(0,a.createElement)("td",null,(0,a.createElement)(s,e))),u=e=>(0,a.createElement)(o.Dropdown,{position:"bottom right",renderToggle:t=>{let{isOpen:n,onToggle:r}=t;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("input",{type:"hidden",name:e.name,value:e.value}),e.html,(0,a.createElement)(o.Button,{isLink:!0,onClick:r,"aria-expanded":n},e.displayValue))},renderContent:()=>e.component}),s=e=>{var t;let{data:n,name:l,title:i,component:s,validation:m}=e;const[p,d]=(0,a.useState)(null!==(t=n.value)&&void 0!==t?t:"");function g(e,t){console.log(e,t),void 0!==t&&(new RegExp(t.pattern.value,"g").test(e)?(n.className="valid",n.help=""):(n.className="invalid",n.help=t.pattern.message)),d(e)}const f={...n,id:l,name:l,value:p,onChange:e=>g(e,m)};switch(s){case"input":return(0,a.createElement)(o.TextControl,f);case"textarea":return(0,a.createElement)(o.TextareaControl,f);case"range":return(0,a.createElement)(o.RangeControl,r({},f,{value:parseFloat(p,2)}));case"select":return(0,a.createElement)(o.SelectControl,f);case"radio":return(0,a.createElement)(o.RadioControl,r({},f,{selected:p}));case"checkbox":return(0,a.createElement)(o.CheckboxControl,r({},f,{checked:p,onChange:e=>g(!e,m)}));case"toggle":return(0,a.createElement)(o.ToggleControl,r({},f,{label:l,checked:p,onChange:()=>g((e=>!e),m)}));case"tree":return(0,a.createElement)(o.TreeSelect,r({},f,{selected:p}));case"color-picker":return(0,a.createElement)(u,{component:(0,a.createElement)(o.ColorPicker,r({},f,{color:p})),name:l,html:(0,a.createElement)("span",{className:"color-preview",style:{backgroundColor:p||"#000",height:"1rem",width:"1rem",marginRight:".25rem",display:"inline-block"}}),displayValue:p||"Choose a color",value:p});case"date":return(0,a.createElement)(u,{component:(0,a.createElement)(o.DatePicker,r({},f,{currentDate:p||new Date})),name:l,displayValue:(0,c.date)("d.m.Y H:i",p,0),value:p});case"time":return(0,a.createElement)(u,{component:(0,a.createElement)(o.TimePicker,r({},f,{currentDate:p||new Date})),name:l,displayValue:(0,c.date)("d.m.Y H:i",p,0),value:p});case"datetime":return(0,a.createElement)(u,{component:(0,a.createElement)(o.DateTimePicker,r({},f,{currentDate:p||new Date})),name:l,displayValue:(0,c.date)("d.m.Y H:i",p,0),value:p});case"button":return(0,a.createElement)(o.Button,r({},f,{text:i,onClick:()=>window.open(n.action,"_blank")}));default:return null}};var m=window.wp.apiFetch,p=n.n(m);p().use(p().createNonceMiddleware(piSettings.nonce));var d;const g=piSettings.settings,f=null!==(d=piSettings.saved)&&void 0!==d?d:{},v=document.getElementById("plugin-settings");v&&wp.element.render((0,a.createElement)((e=>{let{fields:t,options:n,section:c,page:u}=e;const[s,m]=(0,a.useState)(!1),d=u+"-settings",g=document.getElementById(d);function f(e){m(!0),console.log("saving",e),function(e,t){return p()({path:"/plugin/v1/settings",method:"POST",data:{options:e,nonce:t}})}({...n,...e},piSettings.nonce).then((()=>m(!1))).catch((e=>console.log(e)))}t.forEach((e=>{e.data=e.data||{},e.data.value=n[e.name]||e.data.default||""}));const v=e=>Object.fromEntries(new window.FormData(e));return(0,a.createElement)("form",{method:"post",action:"options.php",id:d,onSubmit:function(e){e.preventDefault(),f(v(e.target))},className:"card"},(0,a.createElement)("h2",null,u," - ",c),(0,a.createElement)("table",{className:c+"-table",role:"presentation",title:c,onKeyDown:function(e){const t=String.fromCharCode(e.which).toLowerCase();(e.ctrlKey||e.metaKey)&&"s"===t&&(e.preventDefault(),f((()=>v(g))))}},(0,a.createElement)("tbody",null,t?t.map(((e,t)=>(0,a.createElement)(i,r({key:t},e)))):null)),(0,a.createElement)(o.Button,{type:"submit",className:"button button-primary"},s?"⏰ "+(0,l.__)("Saving…"):(0,l.__)("Submit")))}),{fields:g,options:f,section:"section",page:"page"}),v)}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=function(t,n,r,o){if(!n){var l=1/0;for(s=0;s<e.length;s++){n=e[s][0],r=e[s][1],o=e[s][2];for(var c=!0,i=0;i<n.length;i++)(!1&o||l>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(c=!1,o<l&&(l=o));if(c){e.splice(s--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[n,r,o]},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={578:0,291:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,l=n[0],c=n[1],i=n[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(r in c)a.o(c,r)&&(a.m[r]=c[r]);if(i)var s=i(a)}for(t&&t(n);u<l.length;u++)o=l[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(s)},n=self.webpackChunkpluginui=self.webpackChunkpluginui||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var r=a.O(void 0,[291],(function(){return a(775)}));r=a.O(r)}();